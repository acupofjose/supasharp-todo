@page "/"
@using SupasharpTodo.Shared.Interfaces
@inject IAppStateService AppState;

<PageTitle>Supa#Todos</PageTitle>

@if (AppState.IsLoggedIn)
{
    <TodosView/>
}
else
{
    <LoginView ComponentType="typeof(GithubLoginButton)"/>
}

@code {

    protected override void OnInitialized()
    {
        AppState.PropertyChanged += (_, _) => StateHasChanged();
    }

}
